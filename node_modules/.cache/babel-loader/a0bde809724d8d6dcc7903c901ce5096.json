{"ast":null,"code":"export const fetchObjectives = (dispatch, generateTimers, store) => {\n  let reqPackage = {\n    method: \"GET\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      \"Accept\": \"application/json\",\n      \"Authorization\": `Bearer ${localStorage.getItem('token')}`\n    }\n  };\n  fetch(\"http://localhost:3000/api/v1/getobjectives\", reqPackage).then(res => res.json()).then(data => {\n    dispatch({\n      type: \"GET_OBJECTIVES\",\n      objectives: data.objectives\n    });\n  }).then(() => generateTimers(dispatch, store.getState));\n};\nexport const fetchLinks = dispatch => {\n  let reqPackage = {\n    method: \"GET\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      \"Accept\": \"application/json\",\n      \"Authorization\": `Bearer ${localStorage.getItem('token')}`\n    }\n  };\n  fetch(\"http://localhost:3000/api/v1/getlinks\", reqPackage).then(res => res.json()).then(data => {\n    dispatch({\n      type: \"GET_LINKS\",\n      objectives: data.links\n    });\n  });\n}; // black magic below\n\nexport const generateTimers = (dispatch, getState) => {\n  const state = getState();\n  const objectives = state.objectiveState.objectives;\n  console.log(objectives);\n  const timers = [];\n  const years = [];\n  const months = [];\n  const days = [];\n  const hours = [];\n  const minutes = [];\n  const seconds = [];\n  objectives.forEach(objective => {\n    const years = objective.years;\n    const months = objective.months;\n    const days = objective.days;\n    const hours = objective.hours;\n    const minutes = objective.minutes;\n    const seconds = objective.seconds;\n    years.replace(\" \", \"\").split(\",\").forEach(year => {\n      months.replace(\" \", \"\").split(\",\").forEach(month => {\n        days.replace(\" \", \"\").split(\",\").forEach(day => {\n          hours.replace(\" \", \"\").split(\",\").forEach(hour => {\n            minutes.replace(\" \", \"\").split(\",\").forEach(minute => {\n              seconds.replace(\" \", \"\").split(\",\").forEach(second => {\n                timers.push({\n                  name: objective.name,\n                  description: objective.description,\n                  length: objective.length,\n                  start: new Date(year, month - 1, day, hour, minute, second)\n                });\n              });\n            });\n          });\n        });\n      });\n    });\n  });\n  dispatch({\n    type: \"GET_TIMERS\",\n    timers: timers\n  });\n}; // black magic above","map":{"version":3,"sources":["/home/learn/flatiron/week10/second/second_frontend/src/actions/objectiveAction.js"],"names":["fetchObjectives","dispatch","generateTimers","store","reqPackage","method","headers","localStorage","getItem","fetch","then","res","json","data","type","objectives","getState","fetchLinks","links","state","objectiveState","console","log","timers","years","months","days","hours","minutes","seconds","forEach","objective","replace","split","year","month","day","hour","minute","second","push","name","description","length","start","Date"],"mappings":"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","sourcesContent":["export const fetchObjectives = (dispatch , generateTimers, store) => {\n\n    let reqPackage = {\n        method: \"GET\",\n        headers: {\n            \"Content-Type\": \"application/json\",\n            \"Accept\": \"application/json\",\n            \"Authorization\": `Bearer ${localStorage.getItem('token')}`\n        },\n    };\n\n    fetch(\"http://localhost:3000/api/v1/getobjectives\", reqPackage)\n        .then((res) => res.json())\n        .then((data) => { dispatch({ type: \"GET_OBJECTIVES\", objectives: data.objectives }) })\n        .then(() => generateTimers(dispatch, store.getState))\n\n}\n\nexport const fetchLinks = (dispatch) => {\n\n    let reqPackage = {\n        method: \"GET\",\n        headers: {\n            \"Content-Type\": \"application/json\",\n            \"Accept\": \"application/json\",\n            \"Authorization\": `Bearer ${localStorage.getItem('token')}`\n        },\n    };\n\n    fetch(\"http://localhost:3000/api/v1/getlinks\", reqPackage)\n        .then((res) => res.json())\n        .then((data) => { dispatch({ type: \"GET_LINKS\", objectives: data.links }) })\n\n}\n\n// black magic below\nexport const generateTimers = (dispatch, getState) => {\n    const state = getState()\n    const objectives = state.objectiveState.objectives\n    console.log(objectives)\n    const timers = []\n    const years = []\n    const months = []\n    const days = []\n    const hours = []\n    const minutes = []\n    const seconds = []\n\n    objectives.forEach(objective => {\n        const years = objective.years\n        const months = objective.months\n        const days = objective.days\n        const hours = objective.hours\n        const minutes = objective.minutes\n        const seconds = objective.seconds\n        years.replace(\" \",\"\").split(\",\").forEach(year => {\n            months.replace(\" \",\"\").split(\",\").forEach(month => {\n                days.replace(\" \",\"\").split(\",\").forEach(day => {\n                    hours.replace(\" \",\"\").split(\",\").forEach(hour => {\n                        minutes.replace(\" \",\"\").split(\",\").forEach(minute => {\n                            seconds.replace(\" \",\"\").split(\",\").forEach(second => {\n                                timers.push({name: objective.name, description: objective.description, length: objective.length, start: new Date(year, month - 1, day, hour, minute, second)})\n                            })\n                        })\n                    })\n                })\n            })\n        })\n    })\n\n\n    dispatch({ type: \"GET_TIMERS\", timers: timers })\n}\n// black magic above"]},"metadata":{},"sourceType":"module"}